<!DOCTYPE html>
<html>
  <head>
    <meta>
    <title></title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <style>
        body {
            fon-size: 9pt;
        }

        #panel{
            width: 600px;
            overflow: visible;
            border:1px dotted #CCC;
            font-size: 20px;
        }
    </style>
    <script>
        var count = 1;
        var $Panel = null;
        jQuery(document).ready(function(){
            init();
            start();
        });
        function init(){
            $Panel = $("#panel");
        }
        
        function start(){
            //클로저 활용.. 익명함수를 사용해서 내부에 함수를 리턴해야 한다.
            let pause = setInterval(addTag,1000);
            setTimeout(() => {
                stop(pause);
            }, 10000);
            // setTimeout(stop(pause),5000);
        }
        function stop(pause) {
            clearInterval(pause);
        }
        function addTag(){
            var $span = $("<span></span>");

            var randomColor = "#"+(parseInt(Math.random()*0xffffff)).toString(16);
            var font_Size = Math.floor((Math.random()*40)+10)+"px";

            $span.css({
               color:randomColor,
               fontSize:font_Size,
               display:"inline-block"
            })
            count++;
            $span.html(count);

            $Panel.append($span);
            //여기서 this는 window.
            this.window.scrollTo(0,window.document.body.scrollHeight);
        }
    </script>
  </head>
  <body>
      <div id="panel">

      </div>
  </body>
</html>
